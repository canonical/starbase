name: QA
on:
  push:
    branches:
      - "main"
      - "feature/*"
      - "hotfix/*"
      - "release/*"
      - "renovate/*"
  pull_request:

jobs:
  lint:
    uses: lengau/starflow/.github/workflows/lint-python.yaml@work/CRAFT-3602/test-workflows
  test:
    uses: lengau/starflow/.github/workflows/test-python.yaml@work/CRAFT-3602/test-workflows
    with:
      # TODO: Remove this once https://github.com/canonical/starflow/pull/18 is merged
      fast-test-platforms: '["ubuntu-latest", "macos-latest", "windows-latest"]'
      slow-test-platforms: '["ubuntu-latest", "macos-latest", "windows-latest"]'
